{"version":3,"sources":["webpack:///src/app/pages/tableviewer/tableviewer-conj-panel/tableviewer-conj-panel.component.ts","webpack:///src/app/pages/tableviewer/tableviewer-conj-panel/tableviewer-conj-panel.component.html","webpack:///src/app/pages/tableviewer/tableviewer-pers-panel/tableviewer-pers-panel.component.ts","webpack:///src/app/pages/tableviewer/tableviewer-pers-panel/tableviewer-pers-panel.component.html","webpack:///src/app/pages/tableviewer/tableviewer-routing.module.ts","webpack:///src/app/pages/tableviewer/tableviewer-temp-panel/tableviewer-temp-panel.component.ts","webpack:///src/app/pages/tableviewer/tableviewer-temp-panel/tableviewer-temp-panel.component.html","webpack:///src/app/pages/tableviewer/tableviewer-verb-panel/tableviewer-verb-panel.component.ts","webpack:///src/app/pages/tableviewer/tableviewer-verb-panel/tableviewer-verb-panel.component.html","webpack:///src/app/pages/tableviewer/tableviewer.module.ts","webpack:///src/app/pages/tableviewer/tableviewer/tableviewer.component.ts","webpack:///src/app/pages/tableviewer/tableviewer/tableviewer.component.html"],"names":["depth$","order$","manualConjugation$","TableviewerConjPanelComponent","conjugationService","selectionService","http","store","affixService","pronounService","verbService","notificationService","showDelay","hideDelay","tooltipPosition","routeAnimationsElements","loading","show_toolbar","showExplorer$","settings$","pipe","conjugationTrigger$","response$","triggered","showExplorer","conjugateTable","selection","chartResponse$","order","value","createChart","subscribe","x","console","log","res","depth","data","verbs","chartOption","tooltip","show","trigger","triggerOn","toolbox","feature","saveAsImage","title","legend","top","left","orient","borderColor","series","node","conjugation","values","v","root","t","getAffOption","affopt","vb","getVerb","p","getPronoun","pronoun","val","returnValue","Object","keys","verb","push","nv","name","children","second","ns","third","nt","initialTreeDepth","length","forEach","j","ser","type","toString","bottom","right","symbolSize","label","normal","position","verticalAlign","align","leaves","expandAndCollapse","roam","animationDuration","animationDurationUpdate","morphemes","concat","affixes","sort","a","b","map","m","join","tableargs","conjugate","createChartData","next","query_args","createRequestUrl","query_args_docx","param","url","path","docx_url","get","window","location","href","updateToast","error","status","success","code","translated","selector","templateUrl","styleUrls","changeDetection","OnPush","TableviewerPersPanelComponent","pnService","agent","patient","possiblePronouns$","pronouns$","valueChanges","pns","pushAgChanges","pn","tag","pushPatChanges","c","updateAgents","updatePatients","filter","k","routes","component","TableviewerRoutingModule","forChild","imports","exports","TableviewerTempPanelComponent","times","possibleTimes$","affoptions$","affopts","pushChanges","updateAffOptions","TableviewerVerbPanelComponent","fb","verbs$","checkboxGroup","checkedValues","increment","bottomLimit","searchField","verbForm","group","search","viewableVerbs$","term","matches","getEntriesFrom","addControl","indexOf","filterTrue","updateVerbs","vbs","filterEntries","slice","gloss","toLowerCase","controls","setValue","TableviewerModule","declarations","TableviewerComponent","breakpoint","useTestAPI","cols","innerWidth","rows","conjcolspan","conjrowspan","event","target","conjPanel","onResize"],"mappings":"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","file":"pages-tableviewer-tableviewer-module-es5.js","sourcesContent":["import {\n  Component,\n  OnInit,\n  ChangeDetectionStrategy,\n  ViewChild,\n  ElementRef\n} from \"@angular/core\";\nimport { FormControl } from \"@angular/forms\";\nimport { HttpClient, HttpResponse } from \"@angular/common/http\";\nimport { ConjugationService } from \"../../../core/core.module\";\nimport {\n  NotificationService,\n  TableviewerSelectionService\n} from \"../../../core/core.module\";\nimport { EChartOption } from \"echarts\";\nimport { Store, select } from \"@ngrx/store\";\nimport {\n  Observable,\n  BehaviorSubject,\n  Subject,\n  fromEvent,\n  of,\n  merge,\n  EMPTY\n} from \"rxjs\";\nimport { map, switchMap, tap, finalize, skip } from \"rxjs/operators\";\nimport { merge as _merge } from \"lodash\";\nimport { SettingsState, State } from \"../../../core/settings/settings.model\";\nimport { selectSettings } from \"../../../core/settings/settings.selectors\";\nimport {\n  AffixService,\n  PronounService,\n  VerbService\n} from \"../../../core/core.module\";\nimport { Response } from \"../../../models/models\";\n\nimport { ROUTE_ANIMATIONS_ELEMENTS } from \"../../../core/core.module\";\nimport { marker } from \"@biesbjerg/ngx-translate-extract-marker\";\n\n@Component({\n  selector: \"ww-tableviewer-conj-panel\",\n  templateUrl: \"./tableviewer-conj-panel.component.html\",\n  styleUrls: [\"./tableviewer-conj-panel.component.scss\"],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableviewerConjPanelComponent implements OnInit {\n  // Basic config\n  settings$: Observable<SettingsState>;\n  showDelay = new FormControl(1000);\n  hideDelay = new FormControl(200);\n  tooltipPosition = \"above\";\n  routeAnimationsElements = ROUTE_ANIMATIONS_ELEMENTS;\n  // Non-reactive states\n  loading = false;\n  show_toolbar = true;\n  // Reactive conjugation triggers\n  showExplorer$ = new BehaviorSubject<boolean>(false);\n  manualConjugation$ = new Subject<any>();\n  order$ = new BehaviorSubject<boolean>(true);\n  depth$ = new BehaviorSubject<number>(1);\n  conjugationTrigger$: Observable<any>;\n  chartResponse$: Observable<EChartOption | any>;\n  response$: Observable<Response | any>;\n  // Elements\n  @ViewChild(\"explorer\") explorer;\n  constructor(\n    private conjugationService: ConjugationService,\n    private selectionService: TableviewerSelectionService,\n    private http: HttpClient,\n    private store: Store<State>,\n    private affixService: AffixService,\n    private pronounService: PronounService,\n    private verbService: VerbService,\n    private notificationService: NotificationService\n  ) {}\n\n  ngOnInit(): void {\n    this.settings$ = this.store.pipe(select(selectSettings));\n    this.conjugationTrigger$ = merge(\n      this.manualConjugation$,\n      this.showExplorer$.pipe(skip(1)),\n      this.depth$.pipe(skip(1)),\n      this.order$.pipe(skip(1))\n    );\n    this.response$ = this.conjugationTrigger$.pipe(\n      switchMap(triggered => this.showExplorer$),\n      switchMap(showExplorer => {\n        if (!showExplorer) {\n          return this.conjugationService.conjugateTable(\n            this.selectionService.selection\n          );\n        } else {\n          return EMPTY;\n        }\n      })\n    );\n    this.chartResponse$ = this.conjugationTrigger$.pipe(\n      switchMap(triggered => this.showExplorer$),\n      switchMap(showExplorer => {\n        if (showExplorer) {\n          let order = \"PT\";\n          if (this.order$.value) {\n            order = \"TP\";\n          }\n          return this.createChart(\n            this.selectionService.selection,\n            order,\n            this.depth$.value\n          );\n        } else {\n          return EMPTY;\n        }\n      })\n    );\n    this.response$.subscribe(x => console.log(x));\n    this.chartResponse$.subscribe(x => console.log(x));\n  }\n\n  createChartData(res, order, depth) {\n    let data = [];\n    let verbs: any = [];\n    let chartOption: EChartOption = {\n      tooltip: {\n        show: false,\n        trigger: \"item\",\n        triggerOn: \"mousemove\"\n      },\n      toolbox: {\n        feature: {\n          saveAsImage: { title: \"save\", show: false }\n        }\n      },\n      legend: {\n        top: \"2%\",\n        left: \"3%\",\n        orient: \"vertical\",\n        data: [],\n        borderColor: \"#c23531\"\n      },\n      series: []\n    };\n    let node;\n    for (let conjugation of res) {\n      conjugation = conjugation.values;\n      let v = conjugation.root[\"tag\"];\n      let t = this.affixService.getAffOption(conjugation.affopt)[\"gloss\"];\n      let vb = this.verbService.getVerb(v);\n      let p;\n      if (vb[\"thematic_relation\"] === \"red\") {\n        p = this.pronounService.getPronoun(conjugation.pronoun[\"agent\"])[\n          \"gloss\"\n        ];\n      } else if (vb[\"thematic_relation\"] === \"blue\") {\n        p = this.pronounService.getPronoun(conjugation.pronoun[\"patient\"])[\n          \"gloss\"\n        ];\n      } else {\n        p =\n          this.pronounService.getPronoun(conjugation.pronoun[\"agent\"])[\n            \"gloss\"\n          ] +\n          \" > \" +\n          this.pronounService.getPronoun(conjugation.pronoun[\"patient\"])[\n            \"obj_gloss\"\n          ];\n      }\n      const val = this.returnValue(conjugation);\n\n      if (order === \"TP\") {\n        node = _merge(node, { [v]: { [t]: { [p]: val } } });\n      } else {\n        node = _merge(node, { [v]: { [p]: { [t]: val } } });\n      }\n    }\n\n    for (const verb of Object.keys(node)) {\n      verbs.push(verb);\n      let nv = { name: verb, children: [] };\n      for (const second of Object.keys(node[verb])) {\n        const ns = { name: second, children: [] };\n        for (const third of Object.keys(node[verb][second])) {\n          let nt = {\n            name: third,\n            children: [{ name: node[verb][second][third] }]\n          };\n          ns[\"children\"].push(nt);\n        }\n        nv[\"children\"].push(ns);\n      }\n      data.push(nv);\n    }\n\n    let top = 0;\n    let initialTreeDepth = 0;\n    if (verbs.length < 2) {\n      initialTreeDepth = depth;\n    } else {\n      verbs.forEach(v => {\n        chartOption.legend[\"data\"].push(v);\n      });\n    }\n    for (var j = 0; j < data.length; j++) {\n      top += 20;\n      let ser = {\n        type: \"tree\",\n        name: data[j][\"name\"],\n        data: [data[j]],\n        top: top.toString() + \"%\",\n        left: \"12%\",\n        bottom: \"25%\",\n        right: \"20%\",\n        symbolSize: 7,\n        initialTreeDepth: initialTreeDepth,\n        label: {\n          normal: {\n            position: \"bottom\",\n            verticalAlign: \"middle\",\n            align: \"middle\"\n          }\n        },\n        leaves: {\n          label: {\n            normal: {\n              position: \"top\",\n              verticalAlign: \"middle\",\n              align: \"middle\"\n            }\n          }\n        },\n        expandAndCollapse: true,\n        roam: true,\n        animationDuration: 550,\n        animationDurationUpdate: 750\n      };\n      chartOption.series.push(ser);\n    }\n    return chartOption;\n  }\n\n  returnValue(conjugation) {\n    let morphemes = [conjugation.root, conjugation.pronoun].concat(\n      conjugation.affixes\n    );\n    morphemes = morphemes.sort(function(a, b) {\n      return a.position - b.position;\n    });\n    return morphemes.map(m => m.value).join(\"\");\n  }\n\n  createChart(tableargs, order, depth) {\n    return this.conjugationService\n      .conjugate(tableargs)\n      .pipe(map(res => this.createChartData(res, order, depth)));\n  }\n\n  isString(val) {\n    return typeof val === \"string\";\n  }\n\n  toggleExplorer() {\n    this.showExplorer$.next(!this.showExplorer$.value);\n  }\n\n  download() {\n    const query_args = this.conjugationService\n      .createRequestUrl(this.selectionService.selection)\n      .toString();\n    const query_args_docx = this.conjugationService\n      .createRequestUrl(this.selectionService.selection, [\n        { param: \"docx\", value: \"true\" }\n      ])\n      .toString();\n    const url = this.conjugationService.path + \"?\" + query_args;\n    const docx_url = this.conjugationService.path + \"?\" + query_args_docx;\n    this.http.get(url).subscribe(\n      data => {\n        console.log(data);\n        window.location.href = docx_url;\n        this.updateToast(data);\n      },\n      error => {\n        console.log(error);\n        this.updateToast(false, error.status);\n      }\n    );\n  }\n\n  updateToast(success?, code = 200) {\n    if (success) {\n      this.notificationService.translated(\n        marker(\"ww.tableviewer.notifications.download.success\"),\n        {},\n        \"success\"\n      );\n    } else {\n      this.notificationService.translated(\n        marker(\"ww.tableviewer.notifications.download.error\"),\n        {},\n        \"error\"\n      );\n    }\n  }\n}\n","<div class=\"panel\" *ngIf=\"settings$ | async as settings\">\n    <div *ngIf=\"show_toolbar\" class=\"panel__header panel__header--tableview\">\n        <h5 class=\"panel__title\">{{ 'ww.tableviewer.conj.title' | translate }}</h5>\n        <div class=\"panel__toolbar toolbar\">\n            <button (click)='manualConjugation$.next(\"clicked\")' class=\"conjugate mat-accent\" mat-raised-button>\n                {{ 'ww.tableviewer.conj.conjugate' | translate }}\n            </button>\n            <select *ngIf=\"showExplorer$ | async\" (change)=\"depth$.next($event.target.selectedIndex)\"\n                class=\"toolbar__tool ui-button\" [matTooltip]=\"'ww.tableviewer.conj.depth-tip' | translate\"\n                [matTooltipShowDelay]=\"showDelay.value\" [matTooltipHideDelay]=\"hideDelay.value\"\n                [matTooltipPosition]=\"tooltipPosition\">\n                <option value=\"0\">0</option>\n                <option selected value=\"1\">1</option>\n                <option value=\"2\">2</option>\n                <option value=\"3\">3</option>\n            </select>\n            <button *ngIf=\"showExplorer$ | async\" class=\"toolbar__tool ui-button\" mat-icon-button\n                (click)=\"order$.next(!order$.value)\" [matTooltip]=\"'ww.tableviewer.conj.order-tip' | translate\"\n                [matTooltipShowDelay]=\"showDelay.value\" [matTooltipHideDelay]=\"hideDelay.value\"\n                [matTooltipPosition]=\"tooltipPosition\">\n                <mat-icon aria-label=\"Switch pronoun and temp\">swap_horiz</mat-icon>\n            </button>\n            <button class=\"ui-button toolbar__tool\" mat-icon-button (click)=\"toggleExplorer()\"\n                [matTooltip]=\"'ww.tableviewer.conj.explorer-tip' | translate\" [matTooltipShowDelay]=\"showDelay.value\"\n                [matTooltipHideDelay]=\"hideDelay.value\" [matTooltipPosition]=\"tooltipPosition\">\n                <mat-icon *ngIf=\"!(showExplorer$ | async)\" aria-label=\"Conjugate\">account_tree</mat-icon>\n                <mat-icon *ngIf=\"showExplorer$ | async\" aria-label=\"Conjugate\">grid_on</mat-icon>\n            </button>\n            <button (click)=\"download()\" *ngIf=\"!(showExplorer$ | async)\" class=\"ui-button toolbar__tool\"\n                mat-icon-button matTooltip=\"'ww.tableviewer.conj.download-tip' | translate\"\n                [matTooltipShowDelay]=\"showDelay.value\" [matTooltipHideDelay]=\"hideDelay.value\"\n                [matTooltipPosition]=\"tooltipPosition\">\n                <mat-icon aria-label=\"Download conjugations\">get_app</mat-icon>\n            </button>\n            <button (click)=\"show_toolbar = !show_toolbar\" class=\"ui-button toolbar__tool\" mat-icon-button\n                [matTooltip]=\"'ww.tableviewer.conj.hide-toolbar-tip' | translate\"\n                [matTooltipShowDelay]=\"showDelay.value\" [matTooltipHideDelay]=\"hideDelay.value\"\n                [matTooltipPosition]=\"tooltipPosition\">\n                <mat-icon aria-label=\"Hide toolbar\">cancel</mat-icon>\n            </button>\n        </div>\n    </div>\n    <div class=\"panel__underline height-5\">\n        <hr *ngIf=\"show_toolbar\" />\n        <button *ngIf=\"!show_toolbar\" (click)=\"show_toolbar = !show_toolbar\" class=\"float-right ui-button toolbar__tool\"\n            mat-icon-button [matTooltip]=\"'ww.tableviewer.conj.show-toolbar-tip' | translate\"\n            [matTooltipShowDelay]=\"showDelay.value\" [matTooltipHideDelay]=\"hideDelay.value\"\n            [matTooltipPosition]=\"tooltipPosition\">\n            <mat-icon aria-label=\"Show toolbar\">add_circle</mat-icon>\n        </button>\n    </div>\n    <div>\n        <div>\n            <h4 class=\"desktop-only center-text margin-top-100 padding-20\"\n                *ngIf=\"!(response$ | async) && !(showExplorer$ | async)\" [ngClass]=\"routeAnimationsElements\"\n                [innerHTML]=\"'ww.tableviewer.conj.instructions' | translate\">\n            </h4>\n            <h3 class=\"mobile-only padding-15 center-text\" *ngIf=\"!(response$ | async) && !(showExplorer$ | async)\"\n                [innerHTML]=\"'ww.tableviewer.conj.instructions-mobile' | translate\">\n            </h3>\n            <ng-template #spinner>\n                <ng-container *ngIf=\"loading && !(response$ | async)\">\n                    <mat-spinner class=\"centered margin-top-100\"></mat-spinner>\n                </ng-container>\n            </ng-template>\n        </div>\n\n        <div *ngIf=\"chartResponse$ | async as response\" [hidden]='!(showExplorer$ | async)'\n            class=\"full-width full-height\">\n            <div>\n                <div #explorer echarts [options]=\"response\" class=\"demo-chart\"></div>\n            </div>\n        </div>\n\n        <div *ngIf=\"response$ | async as response; else spinner\" [hidden]=\"showExplorer$ | async\">\n            <div id=\"table-container\" class=\"rel\">\n                <div class=\"error__container\" *ngIf=\"isString(response)\">\n                    <h3 class=\"error__header\">\n                        {{ 'ww.tableviewer.conj.error.title' | translate }}\n                    </h3>\n                    <p class=\"error__message\">{{ response }}</p>\n                    <p class=\"error__message\">\n                        {{ 'ww.tableviewer.conj.error.message' | translate }}\n                    </p>\n                </div>\n                <table class=\"full-width abs\" *ngIf=\"!isString(response)\">\n                    <thead>\n                        <tr>\n                            <th>\n                                <h3 class='center-text'>{{ 'ww.language' | translate }}</h3>\n                            </th>\n                            <th *ngIf=\"settings.level['breakdown-translation'] || settings.level.translation\">\n                                <h3 class='center-text'>{{ 'ww.translation-language' | translate }}</h3>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr class=\"b--bottom\" *ngFor=\"let conjugation of response\">\n                            <td class=\"center-text\">\n                                <h3 id=\"main\">\n                                    <span *ngFor=\"let item of conjugation['main']\"\n                                        class=\"{{ item['classes'] }} no-padding header-text\"\n                                        [ngClass]=\"{highlight: (settings?.highlight)[item['type']] || (settings?.highlight)[item['classes']]}\">{{ item[\"value\"] }}</span>\n                                </h3>\n                                <h5 id=\"main\" *ngIf=\"settings.level.breakdown\">\n                                    <span *ngFor=\"let item of conjugation['main']\"\n                                        class=\"{{ item['classes'] }} no-padding header-text\"\n                                        [ngClass]=\"{highlight: (settings?.highlight)[item['type']] || (settings?.highlight)[item['classes']]}\">{{ item[\"value\"] }}<span\n                                            class=\"gloss-dividers header-text\"\n                                            *ngIf=\"conjugation['main'].indexOf(item) < conjugation['main'].length - 1\">-</span>\n                                    </span>\n                                </h5>\n                                <h5 id=\"main\" *ngIf=\"settings.level.gloss\">\n                                    <span *ngFor=\"let item of conjugation['secondary']\"\n                                        class=\"{{ item['classes'] }} no-padding header-text\" [ngClass]=\"{\n                        highlight:\n                          (settings?.highlight)[item['type']] ||\n                          (settings?.highlight)[item['classes']]}\">{{ item[\"value\"] | decapitalize }}<span\n                                            class=\"gloss-dividers header-text\"\n                                            *ngIf=\"conjugation['secondary'].indexOf(item) < conjugation['secondary'].length - 1\">-</span>\n                                    </span>\n                                </h5>\n                            </td>\n                            <td class=\"center-text\">\n                                <h4 id=\"main\" *ngIf=\"settings.level.translation\" class=\"no-padding header-text\">\n                                    <span class=\"translation\">{{ conjugation[\"translation\"] }}</span></h4>\n                                <h5 id=\"main\" *ngIf=\"settings.level['breakdown-translation']\">\n                                    <span *ngFor=\"let item of conjugation['ternary']\"\n                                        class=\"{{ item['classes'] }} no-padding header-text\"\n                                        [ngClass]=\"{highlight: (settings?.highlight)[item['type']] || (settings?.highlight)[item['classes']] }\">{{ item[\"value\"] | decapitalize }}\n                                        <span class=\"gloss-dividers header-text\"\n                                            *ngIf=\"conjugation['ternary'].indexOf(item) < conjugation['ternary'].length - 1\">-</span>\n                                    </span>\n                                </h5>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit, ChangeDetectionStrategy } from \"@angular/core\";\nimport { TableviewerSelectionService } from \"../../../core/core.module\";\nimport { Pronoun } from \"../../../models/models\";\nimport { PronounService } from \"../../../core/core.module\";\nimport { Observable } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\n\nimport { FormControl, FormGroup } from \"@angular/forms\";\n\n@Component({\n  selector: \"ww-tableviewer-pers-panel\",\n  templateUrl: \"./tableviewer-pers-panel.component.html\",\n  styleUrls: [\"./tableviewer-pers-panel.component.scss\"],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableviewerPersPanelComponent implements OnInit {\n  agent = new FormControl();\n  patient = new FormControl();\n  possiblePronouns$: Observable<Pronoun[]>;\n  constructor(\n    public pnService: PronounService,\n    private selectionService: TableviewerSelectionService\n  ) {\n    this.possiblePronouns$ = this.pnService.pronouns$;\n  }\n\n  ngOnInit(): void {\n    // TODO: Redux\n    this.agent.valueChanges.subscribe(pns => {\n      return this.pushAgChanges(pns.map(pn => pn.tag));\n    });\n    // TODO: Redux\n    this.patient.valueChanges.subscribe(pns => {\n      return this.pushPatChanges(pns.map(pn => pn.tag));\n    });\n  }\n\n  // TODO: Redux\n  pushAgChanges(c) {\n    this.selectionService.updateAgents(c);\n  }\n\n  // TODO: Redux\n  pushPatChanges(c) {\n    this.selectionService.updatePatients(c);\n  }\n\n  // TODO: Redux\n  filterTrue(c) {\n    return Object.keys(c).filter(k => {\n      return c[k];\n    });\n  }\n}\n","<div class='panel'>\n  <div class='panel__header--tableview panel__header'>\n    <h5 class='panel__title'>{{ 'ww.tableviewer.pers.title' | translate }}</h5>\n  </div>\n  <mat-form-field class='control'>\n    <mat-label>{{ 'ww.tableviewer.pers.select-agent' | translate }}</mat-label>\n    <mat-select [formControl]=\"agent\" multiple>\n      <mat-select-trigger>\n        {{agent.value ? agent?.value[0]?.gloss : ''}}\n        <span *ngIf=\"agent.value?.length > 1\" class=\"example-additional-selection\">\n          (+{{agent.value.length - 1}} {{agent.value?.length === 2 ? 'other' : 'others'}})\n        </span>\n      </mat-select-trigger>\n      <mat-option *ngFor=\"let pn of possiblePronouns$ | async\" [value]=\"pn\">{{pn.gloss}}</mat-option>\n    </mat-select>\n  </mat-form-field>\n  <mat-form-field class='control'>\n    <mat-label>{{ 'ww.tableviewer.pers.select-patient' | translate }}</mat-label>\n    <mat-select [formControl]=\"patient\" multiple>\n      <mat-select-trigger>\n        {{patient.value ? patient?.value[0]?.gloss : ''}}\n        <span *ngIf=\"patient.value?.length > 1\" class=\"example-additional-selection\">\n          (+{{patient.value.length - 1}} {{patient.value?.length === 2 ? 'other' : 'others'}})\n        </span>\n      </mat-select-trigger>\n      <mat-option *ngFor=\"let pn of possiblePronouns$ | async\" [value]=\"pn\">{{pn.gloss}}</mat-option>\n    </mat-select>\n  </mat-form-field>\n</div>","import { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\n\nimport { TableviewerComponent } from \"./tableviewer/tableviewer.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: TableviewerComponent,\n    data: { title: \"ww.menu.tableviewer\" }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TableviewerRoutingModule {}\n","import { Component, OnInit, ChangeDetectionStrategy } from \"@angular/core\";\nimport { AffOption } from \"../../../models/models\";\nimport { AffixService } from \"../../../core/core.module\";\nimport { TableviewerSelectionService } from \"../../../core/core.module\";\nimport { Observable } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\n\nimport { FormControl, FormGroup } from \"@angular/forms\";\n\n@Component({\n  selector: \"ww-tableviewer-temp-panel\",\n  templateUrl: \"./tableviewer-temp-panel.component.html\",\n  styleUrls: [\"./tableviewer-temp-panel.component.scss\"],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableviewerTempPanelComponent implements OnInit {\n  times = new FormControl();\n  possibleTimes$: Observable<AffOption[]>;\n  constructor(\n    private affixService: AffixService,\n    private selectionService: TableviewerSelectionService\n  ) {\n    this.possibleTimes$ = this.affixService.affoptions$;\n  }\n\n  ngOnInit(): void {\n    // TODO: Redux\n    this.times.valueChanges.subscribe(affopts => {\n      return this.pushChanges(affopts.map(affopt => affopt.tag));\n    });\n  }\n  // TODO: Redux\n  pushChanges(c) {\n    this.selectionService.updateAffOptions(c);\n  }\n\n  // TODO: Redux\n  filterTrue(c) {\n    return Object.keys(c).filter(k => {\n      return c[k];\n    });\n  }\n}\n","<div class=\"panel\">\n  <div class=\"panel__header panel__header--tableview\">\n    <h5 class=\"panel__title\">{{ 'ww.tableviewer.temp.title' | translate }}</h5>\n  </div>\n  <mat-form-field class='control'>\n    <mat-label>{{ 'ww.tableviewer.temp.select' | translate }}</mat-label>\n    <mat-select [formControl]=\"times\" multiple>\n      <mat-select-trigger>\n        {{times.value?.length ? times.value[0].gloss : ''}}\n        <span *ngIf=\"times.value?.length > 1\" class=\"example-additional-selection\">\n          (+{{times.value?.length - 1}} {{times.value?.length === 2 ? 'other' : 'others'}})\n        </span>\n      </mat-select-trigger>\n      <mat-option *ngFor=\"let time of possibleTimes$ | async\" [value]=\"time\">{{time.gloss}}</mat-option>\n    </mat-select>\n  </mat-form-field>\n</div>","import { Component, OnInit, ChangeDetectionStrategy } from \"@angular/core\";\nimport { Verb } from \"../../../models/models\";\nimport { VerbService } from \"../../../core/core.module\";\nimport { TableviewerSelectionService } from \"../../../core/core.module\";\nimport { Observable } from \"rxjs\";\nimport { debounceTime, map } from \"rxjs/operators\";\n\nimport { FormBuilder, FormControl, FormGroup } from \"@angular/forms\";\n\n@Component({\n  selector: \"ww-tableviewer-verb-panel\",\n  templateUrl: \"./tableviewer-verb-panel.component.html\",\n  styleUrls: [\"./tableviewer-verb-panel.component.scss\"],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableviewerVerbPanelComponent implements OnInit {\n  verbs$: Observable<Verb[]> = this.verbService.verbs$;\n  checkboxGroup: FormGroup = new FormGroup({});\n  checkboxPossibleValues: Observable<Verb[]>;\n  checkedValues: string[] = [];\n  increment = 1000;\n  bottomLimit = 0;\n  topLimit: number;\n  viewableVerbs$: Observable<Verb[]>;\n  selection = [];\n  searchField: FormControl;\n  verbForm: FormGroup;\n  constructor(\n    public verbService: VerbService,\n    private fb: FormBuilder,\n    public selectionService: TableviewerSelectionService\n  ) {\n    // subscribe to search input\n    this.searchField = new FormControl();\n    this.verbForm = this.fb.group({ search: this.searchField });\n    this.viewableVerbs$ = this.searchField.valueChanges.pipe(\n      debounceTime(200),\n      map(term => {\n        // Find matches\n        const matches = this.getEntriesFrom(term);\n        // Add controls\n        matches.forEach(value => {\n          this.checkboxGroup.addControl(\n            value[\"tag\"],\n            new FormControl(this.checkedValues.indexOf(value[\"tag\"]) !== -1)\n          );\n        });\n        // Return matches\n        return matches;\n      })\n    );\n\n    // TODO: Redux\n    // create selection observable\n    this.checkboxGroup.valueChanges.subscribe(c => {\n      c = this.filterTrue(c);\n      if (c) {\n        this.pushChanges(c);\n      }\n    });\n  }\n\n  ngOnInit(): void {}\n\n  // TODO: Redux\n  pushChanges(c) {\n    this.selectionService.updateVerbs(c);\n  }\n\n  // TODO: Redux\n  filterTrue(c) {\n    return Object.keys(c).filter(k => {\n      return c[k];\n    });\n  }\n\n  getEntriesFrom(term) {\n    const vbs: Verb[] = this.verbService.verbs\n      .filter(v => {\n        return this.filterEntries(v, term);\n      })\n      .slice(this.bottomLimit, this.increment);\n    return vbs;\n  }\n\n  filterEntries(v, term) {\n    return (\n      v.gloss.toLowerCase().indexOf(term.toLowerCase()) > -1 ||\n      v.tag.toLowerCase().indexOf(term.toLowerCase()) > -1\n    );\n  }\n\n  remove() {\n    Object.keys(this.checkboxGroup.controls).forEach(k =>\n      this.checkboxGroup.controls[k].setValue(false)\n    );\n  }\n}\n","<div class='panel'>\n  <div class='panel__header panel__header--tableview'>\n    <h5 class=\"panel__title\">{{ 'ww.tableviewer.verb.title' | translate }}</h5>\n    <button *ngIf='selectionService.selection.root.length > 0' class=\"mat-accent conjugate deselect\" mat-raised-button\n      (click)=\"remove()\">\n      {{ 'ww.tableviewer.verb.deselect' | translate }}\n    </button>\n  </div>\n  <div class=\"panel__content\">\n    <form>\n      <div>\n        <mat-form-field class='control' [formGroup]=\"verbForm\">\n          <input autocomplete=\"off\" type=\"text\" [placeholder]=\"'ww.tableviewer.verb.placeholder' | translate\" aria-label=\"Number\" matInput\n            formControlName=\"search\">\n        </mat-form-field>\n      </div>\n    </form>\n    <mat-list class='panel__list' role=\"list\" *ngIf=\"searchField.value !== ''\">\n      <div [formGroup]=\"checkboxGroup\" *ngFor=\"let value of viewableVerbs$ | async\">\n        <mat-checkbox class='margin-5'\n          [disabled]=\"selectionService.selection.root.indexOf(value.tag) < 0 && selectionService.selection.root.length >= 3\"\n          [formControlName]=\"value.tag\">{{\n            value.gloss + \" - \" }}\n          <span [ngClass]=\"'color-' + value.thematic_relation\">{{value.display}}</span>\n        </mat-checkbox>\n      </div>\n    </mat-list>\n    <p class='unfound'\n      *ngIf=\"searchField.value !== '' && searchField.value !== null && (viewableVerbs$ | async)?.length === 0\">\n      <span>{{ 'ww.tableviewer.verb.no-matching-verb' | translate: { value: searchField.value } }}</span></p>\n  </div>\n\n</div>","import { NgModule } from \"@angular/core\";\nimport { TableviewerComponent } from \"./tableviewer/tableviewer.component\";\nimport { TableviewerConjPanelComponent } from \"./tableviewer-conj-panel/tableviewer-conj-panel.component\";\nimport { TableviewerPersPanelComponent } from \"./tableviewer-pers-panel/tableviewer-pers-panel.component\";\nimport { TableviewerTempPanelComponent } from \"./tableviewer-temp-panel/tableviewer-temp-panel.component\";\nimport { TableviewerVerbPanelComponent } from \"./tableviewer-verb-panel/tableviewer-verb-panel.component\";\nimport { SharedModule } from \"../../shared/shared.module\";\nimport { TableviewerRoutingModule } from \"./tableviewer-routing.module\";\nimport { NgxEchartsModule } from \"ngx-echarts\";\n\n@NgModule({\n  declarations: [\n    TableviewerComponent,\n    TableviewerConjPanelComponent,\n    TableviewerPersPanelComponent,\n    TableviewerTempPanelComponent,\n    TableviewerVerbPanelComponent\n  ],\n  imports: [SharedModule, TableviewerRoutingModule, NgxEchartsModule]\n})\nexport class TableviewerModule {}\n","import {\n  Component,\n  HostListener,\n  OnInit,\n  ViewChild,\n  ChangeDetectionStrategy\n} from \"@angular/core\";\n\n// Imports\n// import { TableviewerConjPanelComponent } from '../tableviewer-conj-panel/tableviewer-conj-panel.component';\n\n@Component({\n  selector: \"ww-tableviewer\",\n  templateUrl: \"./tableviewer.component.html\",\n  styleUrls: [\"./tableviewer.component.scss\"],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableviewerComponent implements OnInit {\n  @ViewChild(\"conjPanel\") conjPanel;\n  cols: number;\n  rows: number;\n  conjrowspan: number;\n  conjcolspan: number;\n  quarterrowspan: number;\n  halfrowspan: number;\n  fullrowspan: number;\n  breakpoint = 1100;\n  useTestAPI = false;\n  // @HostListener('document:keyup', ['$event'])\n  // handleKeyboardEvent(event: KeyboardEvent) {\n  //   if (event.keyCode === 13) {\n  //     this.conjPanel.conjugate();\n  //   }\n  // }\n  constructor() {}\n\n  ngOnInit() {\n    this.cols = window.innerWidth <= this.breakpoint ? 3 : 12;\n    this.rows = window.innerWidth <= this.breakpoint ? 1 : 5;\n    this.conjcolspan = window.innerWidth <= this.breakpoint ? 3 : 9;\n    this.conjrowspan = window.innerWidth <= this.breakpoint ? 3 : 5;\n  }\n\n  onResize(event) {\n    this.cols = event.target.innerWidth <= this.breakpoint ? 3 : 12;\n    this.rows = window.innerWidth <= this.breakpoint ? 1 : 5;\n    this.conjcolspan = window.innerWidth <= this.breakpoint ? 3 : 9;\n    this.conjrowspan = window.innerWidth <= this.breakpoint ? 3 : 5;\n  }\n\n  conjugate() {\n    this.conjPanel.conjugate();\n  }\n}\n","<div class=\"container page__content vwidth-90 centered margin-bottom-50\">\n  <mat-grid-list [cols]=\"cols\" rowHeight=\"8em\" (window:resize)=\"onResize($event)\">\n    <mat-grid-tile [colspan]=\"3\" [rowspan]=\"2\"\n      class=\"br--tl b--left b--top b--bottom bg-white\">\n      <ww-tableviewer-verb-panel class='custom-scroll full-width full-height'></ww-tableviewer-verb-panel>\n    </mat-grid-tile>\n    <mat-grid-tile class=\"b--top b--left b--right br--tr br--br b--bottom bg-white\" [colspan]=\"conjcolspan\" [rowspan]=\"conjrowspan\">\n      <ww-tableviewer-conj-panel #conjPanel class=\"custom-scroll full-width full-height\"></ww-tableviewer-conj-panel>\n    </mat-grid-tile>\n    <mat-grid-tile [colspan]=\"3\" [rowspan]=\"2\" class=\"b--left bg-white\">\n      <ww-tableviewer-pers-panel class='custom-scroll full-width full-height'></ww-tableviewer-pers-panel>\n    </mat-grid-tile>\n    <mat-grid-tile [colspan]=\"3\" [rowspan]=\"1\" class=\"br--bl b--top b--left b--bottom bg-white\">\n      <ww-tableviewer-temp-panel class='custom-scroll full-width'></ww-tableviewer-temp-panel>\n    </mat-grid-tile>\n  </mat-grid-list>\n</div>"]}